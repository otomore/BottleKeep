# BottleKeeper プロダクト戦略・設計方針

## 1. 概要

本ドキュメントはBottleKeeperの長期的なプロダクト戦略と、実装時に遵守すべき重要な設計方針を記録します。

## 2. 戦略的設計方針

### 2.1 データポータビリティに関する方針

**方針: データのエクスポート・バックアップ機能は実装しない**

#### 2.1.1 理由

1. **ユーザーロックインの確保**
   - データエクスポート機能を提供すると、競合アプリへの移行が容易になる
   - ユーザーが時間をかけて蓄積したデータは、このアプリに留まる強い動機となる
   - データ移行コストの高さが、スイッチングコストとなりユーザー維持につながる

2. **競争優位性の維持**
   - 将来的に競合アプリが登場した際、データ移行の障壁がユーザー流出を防ぐ
   - みすみすユーザーを競合に渡すような選択は避ける

3. **代替手段の制限**
   - iCloud同期機能も同様の理由で実装しない
   - 複数デバイス間でのデータ共有は、実質的なバックアップ・エクスポートと同等の機能となるため

#### 2.1.2 実装禁止事項

以下の機能は**未来永劫実装しない**:
- [ ] データのエクスポート機能（JSON、CSV、Excel等）
- [ ] データのバックアップ機能
- [ ] iCloud同期機能
- [ ] 他アプリとのデータ連携機能
- [ ] APIを通じた外部アクセス
- [ ] データベースファイルへの直接アクセス

#### 2.1.3 許可される機能

以下の機能は許可される:
- ✅ アプリ内でのデータ表示・編集
- ✅ スクリーンショットの撮影（ユーザー側の操作）
- ✅ 個別ボトルの写真の保存・共有
- ✅ 統計情報のスクリーンショット共有

#### 2.1.4 データ喪失リスクへの対応

データエクスポート機能を提供しない代わりに、以下でデータ喪失リスクを軽減:

1. **堅牢なデータ永続化**
   - Core Dataの適切な実装
   - データ整合性チェックの徹底
   - クラッシュ時の自動復旧機能

2. **ユーザーへの注意喚起**
   - 初回起動時に「データはこのデバイスにのみ保存される」旨を明示
   - アプリ削除時のデータ消失について警告

3. **開発側でのバックアップ**
   - デバッグ目的でのローカルバックアップ機能（開発ビルドのみ）
   - ユーザーには公開しない

### 2.2 マネタイゼーション戦略

#### 2.2.1 無料版の制限

無料版は以下の制限を設ける:
- ボトル登録数: 最大20本
- 写真枚数: ボトルあたり最大3枚
- カスタムカテゴリ: 最大3件
- 広告表示: あり

#### 2.2.2 プレミアム版の提供

プレミアム版（買い切りまたはサブスクリプション）:
- ボトル登録数: 無制限
- 写真枚数: 無制限
- カスタムカテゴリ: 無制限
- 広告非表示
- 高度な統計機能
- テーマのカスタマイズ

**重要**: プレミアム版でもデータエクスポート機能は提供しない

### 2.3 競合分析と差別化

#### 2.3.1 想定される競合

1. **既存のウイスキーアプリ**
   - Distiller
   - Whisky Advocate
   - My Whisky Collection

2. **汎用コレクション管理アプリ**
   - Notion
   - Airtable
   - 各種スプレッドシートアプリ

#### 2.3.2 差別化ポイント

1. **ウイスキー特化のUX**
   - デバイスの傾きに応じた液面表示
   - ウイスキー専用の入力項目
   - テイスティングノートのテンプレート

2. **視覚的な魅力**
   - 美しいボトル表示
   - リアルな液体アニメーション
   - 直感的なUI/UX

3. **シンプルさ**
   - 過度に複雑な機能を避ける
   - 必要な機能に絞った実装
   - 学習コストの低いインターフェース

### 2.4 長期的なロードマップ

#### 2.4.1 Phase 1: MVP（現在）
- 基本的なボトル管理機能
- 写真管理
- シンプルな統計

#### 2.4.2 Phase 2: 機能拡張
- 通知機能
- 高度な統計・グラフ
- iPad最適化
- テイスティングノート機能の強化

#### 2.4.3 Phase 3: コミュニティ機能（検討中）
- SNS共有機能（データではなく、スクリーンショットや評価のみ）
- ボトルレビューの参照（外部API連携）
- おすすめボトルの提案

**重要**: いかなるフェーズでもデータエクスポート機能は追加しない

### 2.5 セキュリティとプライバシー

#### 2.5.1 データ保護

- ユーザーデータは全てローカルストレージに保存
- 外部サーバーへの送信は一切行わない（分析データも最小限）
- 写真データの暗号化（検討中）

#### 2.5.2 透明性

- プライバシーポリシーでデータの取り扱いを明示
- 「データはデバイス内にのみ保存される」ことを明確に伝える

## 3. 開発時のチェックリスト

新機能を実装する際、以下を確認:

### 3.1 データポータビリティチェック

- [ ] この機能はデータエクスポートを可能にしないか？
- [ ] この機能は外部へのデータ流出経路にならないか？
- [ ] この機能は競合アプリへの移行を容易にしないか？

### 3.2 ユーザーロックイン強化チェック

- [ ] この機能はユーザーがアプリに留まる理由を増やすか？
- [ ] この機能はユーザーの投資（時間・データ）を増やすか？
- [ ] この機能は他アプリでは代替不可能か？

### 3.3 マネタイゼーションチェック

- [ ] この機能は無料版で提供すべきか、プレミアム版限定か？
- [ ] この機能は課金への動機付けになるか？

## 4. 例外規定

### 4.1 デバッグ・開発用機能

以下は開発・デバッグ目的でのみ許可:
- 開発ビルドでのデータエクスポート（本番リリースには含めない）
- 自動テスト用のデータインポート機能
- 開発者向けのデータ確認ツール

**重要**: これらの機能がリリースビルドに含まれないよう、コンパイル時の条件分岐で制御する

### 4.2 法的要請への対応

法的要請（データポータビリティの権利など）により、データエクスポートが必要となった場合:
- 最小限の実装に留める
- 使いにくいUI/UXにする
- 可能な限り法的要件の範囲内で制限する

## 5. このドキュメントの更新ルール

- 戦略的方針の変更は慎重に検討する
- 変更履歴を明記する
- 重要な変更はチーム全体（または開発者自身）で合意する

---

**文書バージョン**: 1.0
**作成日**: 2025-10-01
**最終更新**: 2025-10-01
**作成者**: プロダクトオーナー

## 変更履歴

| 日付 | バージョン | 変更内容 | 作成者 |
|------|-----------|---------|--------|
| 2025-10-01 | 1.0 | 初版作成。データエクスポート機能を実装しない方針を明文化 | Claude Code |
